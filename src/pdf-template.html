<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{pdfTitle}}</title>
    <style>
        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #333;
            /* Neutral dark gray for text */
            margin: 0;
            padding: 0;
            /* Light gray background for a clean appearance */
        }

        .page {
            page-break-after: always;
            padding: 1.5rem;
            margin-top: 0;
        }

        .page:last-child {
            page-break-after: inherit;
        }

        .section {
            break-inside: auto;
        }

        h1,
        h2,
        h3 {
            page-break-after: avoid;
            /* Keep headers and the next element together */
            font-weight: bold;
            color: #222;
            /* Deep neutral gray for headers */
        }

        h1 {
            font-size: 2.5rem;
            text-align: center;
        }

        h2 {
            font-size: 2rem;
            color: #444;
            /* Slightly lighter gray for subheaders */
        }

        h3 {
            font-size: 1.5rem;
            color: #555;
            /* Lighter gray for tertiary headers */
        }

        p {
            margin: 0.5rem 0 1.5rem;
            text-align: justify;
            font-size: 20px;
            color: #333;
            /* Consistent text color for readability */
        }

        ol,
        ul {
            margin: 1rem 0 1.5rem 2rem;
            padding: 0;
            color: #444;
            /* Matches subheaders for list items */
        }

        li {
            margin: 0.5rem 0;
            font-size: 20px;
        }

        .title-page {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 80vh;
            background: #f5f5f5;
            /* Subtle light gray for the title page */
            text-align: center;
            color: #222;
            /* Dark gray for title page text */
        }

        .table-of-contents {
            padding: 1rem 2rem;
        }

        .table-of-contents h1 {
            font-size: 2rem;
            color: #222;
            /* Match main headers for consistency */
        }

        .table-of-contents ol {
            margin-left: 1rem;
        }

        .table-of-contents li h2 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .chapter {
            page-break-before: always;
            /* Forces the chapter to start on a new page */
            break-before: always;
            /* Modern CSS equivalent, works in Puppeteer */
        }

        .chapter .introduction,
        .chapter .conclusion {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: #f9f9f9;
            /* Light gray for subtle distinction */
            border-left: 4px solid #bbb;
            /* Neutral gray border for focus */
            border-radius: 6px;
        }

        .conclusion {
            margin-top: 1.5rem;
        }

        .subchapter {
            margin-top: 1.5rem;
        }

        /* Blockquotes */
        blockquote {
            margin: 1.5rem 0;
            padding: 1rem;
            background-color: #f4f4f4;
            /* Slightly darker gray background */
            border-left: 4px solid #999;
            /* Medium gray for emphasis */
            font-style: italic;
            color: #555;
            /* Subtle text color for distinction */
        }

        /* Code blocks */
        code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #2e2e2e;
            /* Match the dark gray background of pre */
            color: #f5f5f5;
            /* Match the light text color of pre */
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        pre {
            font-family: 'Courier New', Courier, monospace;
            background-color: #2e2e2e;
            /* Dark gray background for consistency */
            color: #f5f5f5;
            /* Light text for contrast */
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Inline styles for emphasis */
        strong {
            color: #222;
            /* Neutral dark for emphasis */
            font-weight: bold;
        }

        em {
            font-style: italic;
            color: #444;
            /* Slightly lighter for distinction */
        }

        /* Table styling */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 20px;
        }

        th,
        td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f4f4f4;
            font-weight: bold;
            color: #444;
        }

        td {
            background-color: #fafafa;
        }

        tr:nth-child(even) td {
            background-color: #f9f9f9;
        }

        tr:hover td {
            background-color: #e9e9e9;
        }

        /* Optional styling for the table borders */
        table,
        th,
        td {
            border: 1px solid #ddd;
        }

        /* Optional: Add spacing between columns */
        th,
        td {
            border-right: 1px solid #ddd;
        }

        td:last-child,
        th:last-child {
            border-right: none;
        }
    </style>
</head>

<body>
    <div class="page title-page">
        <h1>{{bookTitle}}</h1>
    </div>
    <div class="page table-of-contents">
        {{tableOfContents}}
    </div>
    {{chapters}}
</body>

</html>